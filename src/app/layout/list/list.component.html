<body>
  <div class="card">
    <div class="card-header">
      <h2>Add Crime</h2>
    </div>

    <div class="card-body" *ngIf="showAddCrimeForm">
      <form (submit)="addCrime()">
        <div class="form-group">
          <label for="crime">Crime:</label>
          <select id="crime" [(ngModel)]="crime" name="crime" class="form-control" required>
            <option *ngFor="let cri of crimes" [value]="cri">{{ cri }}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="location">Location:</label>
          <input type="text" [(ngModel)]="location" name="Location" id="location" class="form-control" placeholder="Location" required />
        </div>
        
        <div class="form-group">
          <label for="date">Date:</label>
          <input type="date" [(ngModel)]="date" name="Date" id="date" class="form-control" placeholder="Date" required />
        </div>
        
        <div class="form-group">
          <label for="resolution">Resolution:</label>
          <select id="resolution" [(ngModel)]="resolution" name="Resolution" class="form-control" required>
            <option *ngFor="let res of resolutions" [value]="res">{{ res }}</option>
          </select>
        </div>
        <br>   
        <div class="form-group">
          <button type="submit" class="btn btn-primary">Save Crime</button>
          <button type="button" class="btn btn-secondary" (click)="exitForm()">Exit</button>
        </div> 
      </form>
    </div>    
    <div class="button" *ngIf="showAddCrimeButton">
      <button class="btn btn-primary" (click)="toggleAddCrimeForm()">Add Crime</button>
    </div>
  </div>
 
  <div class="card">
    <div class="card-header">
      <h2>CrimeList</h2>
    </div>
    <div class="card-body">
      <table class="table table-striped table-hover custom-table">
        <thead>
          <tr>
            <th>Crime</th>
            <th>Location</th>
            <th>Date</th>
            <th>Resolution</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users; let i = index">
            <td>{{ user.crime }}</td>
            <td>{{ user.location }}</td>
            <td>{{ user.date }}</td>
            <td>{{ user.resolution }}</td>

            <td>
              <button class="btn btn-primary"  style="margin-right: 10px;" (click)="editCrime(i)" *ngIf="editingIndex !== i">Edit</button>
              <button  class="btn btn-primary"  style="margin-right: 10px;" (click)="deleteCrime(i)">Delete</button>
            </td>
           
          </tr>
        </tbody>
      </table>
      <div *ngIf="editingIndex !== null" class="edit-form">
        <div>
          <label>Crime: </label>
          <select [(ngModel)]="users[editingIndex].crime">
            <option *ngFor="let cri of crimes" [value]="cri">{{ cri }}</option>
          </select>
        </div>
        <div>
          <label>Location: </label>
          <input type="text" [(ngModel)]="users[editingIndex].location" />
        </div>
        <div>
          <label>Date: </label>
          <input type="date" [(ngModel)]="users[editingIndex].date" />
        </div>
        <div>
          <label>Resolution: </label>
          <select [(ngModel)]="users[editingIndex].resolution">
            <option *ngFor="let res of resolutions" [value]="res">{{ res }}</option>
          </select>
        </div>
        <button (click)="saveEdit(editingIndex)">Save</button>
      </div>
    </div>
  </div>

  <!-- Add Bootstrap JS and Popper.js scripts (required for Bootstrap functionality) -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>